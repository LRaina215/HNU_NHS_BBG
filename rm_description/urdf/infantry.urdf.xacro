<?xml version="1.0" encoding="utf-8"?>

<robot name="infantry"
  xmlns:xacro="http://ros.org/wiki/xacro">

  <link name="base_footprint"/>
  <joint name="base_footprint_joint" type="fixed">
    <origin xyz="0 0 0" rpy="0 0 0" />
    <parent link="base_footprint" />
    <child link="base_link" />
  </joint>

  <link name="base_link"/>


  <link name="yaw_link">
    <inertial>
      <origin xyz="-0.00128728485063311 0.00258374909457953 0.0524246706513837" rpy="0 0 0" />
      <mass value="1.59137888700053" />
      <inertia ixx="0.00125609605788673" ixy="-2.16484861568205E-06" ixz="-2.67357853862582E-06" iyy="0.00141950463926334" iyz="4.69864568850834E-06" izz="0.00162143753217742" />
    </inertial>
  </link>

  <joint name="yaw_joint" type="continuous">
    <origin xyz="0 0.000601078908341823 0.0688768207279935" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="yaw_link" />
    <axis xyz="0 0 1" />
  </joint>

  <link name="pitch_link">
    <inertial>
      <origin xyz="0.00736761737515189 0.00565577819405946 0.014620369928466" rpy="0 0 0" />
      <mass value="1.59160192042671" />
      <inertia ixx="0.000871771061863024" ixy="-8.89761617072868E-06" ixz="9.7697048920212E-05" iyy="0.00119504546522517" iyz="7.20853291476155E-06" izz="0.00171997072341206" />
    </inertial>
  </link>

  <joint name="pitch_joint" type="revolute">
    <origin xyz="0 0.00155630648864778 0.206976063080264" rpy="0 0 0" />
    <parent link="yaw_link" />
    <child link="pitch_link" />
    <axis xyz="0.0224353693185367 -0.99970304000759 0.00951241310725326" />
    <limit lower="-0.6" upper="0.5" effort="1.2" velocity="31"/>
  </joint>

  <link name="shooter_link">
    <inertial>
      <origin xyz="0.0942660578237848 0.00236092548360893 -0.00702993230029442" rpy="0 0 0" />
      <mass value="0.0922925037137105" />
      <inertia ixx="2.11969106988514E-05" ixy="-1.72735321409175E-06" ixz="5.56465245877651E-06" iyy="9.98847952173577E-05" iyz="1.48854870630992E-07" izz="0.000102830413297917"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/shooter_link.STL" />
      </geometry>
      <material name="">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/shooter_link.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="shooter_joint" type="fixed">
    <origin xyz="0 0.0021573853969783 0.275852883808262" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="shooter_link" />
    <axis xyz="0.0224888590089498 -0.999708198887461 0.00881863354860846" />
  </joint>

  <link name="camera_base_link">
    <inertial>
      <origin xyz="0.00967764951907826 0.000224495115204573 -0.000534719818450324" rpy="0 0 0" />
      <mass value="0.0360338666748617" />
      <inertia ixx="5.52864019920627E-06" ixy="1.68961959319145E-08" ixz="-3.46465819387122E-08" iyy="5.0262904251109E-06" iyz="-1.63789297233103E-09" izz="5.01999506211553E-06" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/camera_base_link.STL" />
      </geometry>
      <material name="">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/camera_base_link.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="camera_base_joint" type="fixed">
    <origin xyz="0.0778377731096527 0.00155071489940206 -0.0513013861409867" rpy="${-pi} 0 0" />
    <parent link="pitch_link" />
    <child link="camera_base_link" />
  </joint>

  <link name="camera_optical_frame" >
    <inertial>
      <origin xyz="-0.000224495194700719 0.000534716205662589 0.00967765165728113" rpy="0 0 0" />
      <mass value="0.0360338666764039" />
      <inertia ixx="5.02629042551474E-06" ixy="-1.6378921669331E-09" ixz="-1.68961961434404E-08" iyy="5.01999505957236E-06" iyz="3.4646560972082E-08" izz="5.5286402023566E-06" />
      </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/camera_optical_frame.STL" />
      </geometry>
      <material name="">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/camera_optical_frame.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="camera_optical_joint" type="fixed">
    <origin xyz="0 0 0" rpy="${-pi/2} 0 ${-pi/2}" />
    <parent link="camera_base_link" />
    <child link="camera_optical_frame" />
  </joint>

  <link name="laser">
    <inertial>
      <origin xyz="-8.06527929175793E-05 0.000586757767043131 -0.00728712920963226" rpy="0 0 0" />
      <mass value="0.0531265216378075" />
      <inertia ixx="1.76993040646715E-05" ixy="-7.5636033942606E-07" ixz="-6.54756348936267E-08" iyy="2.01651283137952E-05" iyz="1.17128492740838E-07" izz="3.60692687589396E-05" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/lidra_link.STL" />
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://rm_description/meshes/lidra_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="lidar_joint" type="fixed">
    <origin xyz="0.201442409805222 -0.00133248296040227 0.152053624371896" rpy="0 0 ${pi}" />
    <parent link="base_link" />
    <child link="laser" />
    <axis xyz="0 0 0" />
  </joint>
  <link name="chassis_imu_link">
    <inertial>
      <origin xyz="-0.00214552257451062 -0.013605043852541 -0.00365032333920026" rpy="0 0 0" />
      <mass value="0.00820385981419426" />
      <inertia ixx="3.12257462962623E-06" ixy="1.66596721057154E-08" ixz="6.91564453849682E-09" iyy="1.05053268777607E-06" iyz="1.16586103055358E-07" izz="4.05755880736975E-06" />
    </inertial>
  </link>
<!--  <joint name="chassis_imu_joint" type="fixed">-->
<!--    <origin xyz="0.171040813999999 -0.00541466183112911 0.00430862197376056" rpy="${pi} 0 0" />-->
<!--    <parent link="base_link" />-->
<!--    <child link="chassis_imu_link" />-->
<!--  </joint>-->
  <joint name="chassis_imu_joint" type="fixed">
    <origin xyz="0.171040813999999 -0.00541466183112911 0.00430862197376056" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="chassis_imu_link" />
  </joint>

</robot>
